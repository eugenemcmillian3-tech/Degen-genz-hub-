'use client';

import {
  ConnectWallet,
  Wallet,
  WalletDropdown,
  WalletDropdownDisconnect,
} from '@coinbase/onchainkit/wallet';
import {
  Address,
  Avatar,
  Name,
  Identity,
  EthBalance,
} from '@coinbase/onchainkit/identity';
import { color } from '@coinbase/onchainkit/theme';
import { useAccount } from 'wagmi';
import { Sparkles } from 'lucide-react';

/**
 * Base Wallet Component
 * Integrated Coinbase Wallet with connect button and dropdown menu
 */
export function BaseWallet(): JSX.Element {
  const { address, isConnected } = useAccount();

  return (
    <div className="flex items-center gap-3">
      <Wallet>
        <ConnectWallet>
          <Avatar className="h-6 w-6" />
          <Name className="text-sm font-medium" />
        </ConnectWallet>
        <WalletDropdown>
          <Identity
            className="px-4 pt-3 pb-2"
            hasCopyAddressOnClick
          >
            <Avatar />
            <Name />
            <Address className={color.foregroundMuted} />
            <EthBalance />
          </Identity>
          <WalletDropdownDisconnect />
        </WalletDropdown>
      </Wallet>

      {isConnected && address && (
        <div className="flex items-center gap-1 px-3 py-1.5 rounded-full bg-green-100 text-green-700 text-xs font-medium">
          <Sparkles className="w-3 h-3" />
          <span>Connected</span>
        </div>
      )}
    </div>
  );
}

/**
 * Simple Wallet Connect Button (Minimal)
 */
export function BaseWalletButton(): JSX.Element {
  return (
    <Wallet>
      <ConnectWallet />
    </Wallet>
  );
}
